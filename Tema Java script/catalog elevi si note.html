<!DOCTYPE html>
<html>
	<head>
		<script>
			var listaElevi=[];
		
		function drawListaElevi(){
			var tabel=document.querySelector("#listaElevi tbody");
			var str="";
            
			for(var i=0;i<listaElevi.length;i++){
				    str+= `<tr>
					<td>${listaElevi[i].numeElev}</td>
                    <td>${listaElevi[i].medie}</td>
					<td><input style="margin-left: 2px; border-radius: 5px; color:black;
                    background-color: rgb(226, 139, 163);; height: 25px;" type="button" value="Vezi notele" onclick="veziNotele(${i})"/></td>
				</tr>`;
				
                
			}
			console.log(str);
			tabel.innerHTML=str;
		}

		
		function sorteaza(coloana, td, sortare){
           
			
			listaElevi.sort(function(a,b){
				if(a[coloana]>b[coloana]){
					return 1;
				}else if(a[coloana]<b[coloana]){
					return -1;
				}else{
					return 0;
				}
			}); 
            if (sortare==="desc"){
							listaElevi.reverse();
            }
			
			console.log(listaProduse);
			drawListaElevi();
		}
        
        function actualizareMedie(pozitie){

            listaElevi[pozitie].elemMedie=medie;

            drawListaElevi();
        }



      function valideaza(element, eveniment) {
            eveniment.preventDefault();
            
            var elemNumeElev = document.getElementById("numeElev");
           
            var a=false;
            

            console.log(elemNumeElev.value);
            if (elemNumeElev.value.length<3){
                elemNumeElev.style.backgroundColor="red";
                document.getElementById("numeElevGresit").style.display="";
            }else { elemNumeElev.style.backgroundColor="";
            document.getElementById("numeElevGresit").style.display="none";
            a=true;};

           
            var elevNou={numeElev: elemNumeElev.value, medie: "" };
            if(a===true){listaElevi.push(elevNou);
                             
                drawListaElevi();

                elemNumeElev.value="";
                }
            

            console.log(elemNumeElev.value);
            console.log(elevNou.medie.value);
            console.log(element, eveniment);
            
            
            
        }
        function validareElev(element,eveniment){
        var elemNume = document.getElementById("numeElev");
        var valoaresir=elemNume.value; 
        var ultimatasta=eveniment.key;   
        var lungimesirlitere=0;

                if (ultimatasta.toLowerCase()>="a" && ultimatasta.toLowerCase()<="z" || ultimatasta===" " || ultimatasta==="-" || ultimatasta==="'") {
                  lungimesirlitere=lungimesirlitere+1;
                  
            }else {
            eveniment.preventDefault();}

                    
            return lungimesirlitere;
        }
        

       
        
        
		</script>
		<style>
			table{
				border-collapse:collapse;
			}
			
		</style>
    </head>
        
    <body style="background-color: rgb(171, 150, 191);">

            <div style="background-color:white; padding: 20px; border-radius: 10px;">
            <h2 align="left">Lista Elevi</h2>
            </br>
                <div align="center" >
                   <input style="width: 300px; height: 25px;border-color: lightgrey; margin-right: 30px;
                    margin-left: 30px;flex: 4;" name="numeElev" id="numeElev" type="text" onkeypress="validareElev(this, event);">
                    <p style="display:none;" id="numeElevGresit">Nu este un nume</p>
                   
                   <input style="margin-right: 30px; margin-left: 30px; border-radius: 5px; color:black;
                    background-color:rgb(123, 241, 160); height: 31px;" type="button" value="Adauga elev" onclick="valideaza(this,event);">
                </div>
                </br>
                <div align="left" style="margin-left: 265px;">
                <input style="margin-right: 2px; border-radius: 5px; color:black;
                    background-color:rgb(211, 123, 241); height: 25px;" type="button" value="Sorteaza ascendent dupa medie" onclick="sorteaza('medie', this, 'asc')">
                    <input style="margin-left: 2px; border-radius: 5px; color:black;
                    background-color:rgb(211, 123, 241); height: 25px;" type="button" value="Sorteaza descendent dupa medie" onclick="sorteaza('medie', this, 'desc')">
                </div>
                </br>
                <div align="left" style="margin-left: 265px;">
                <table id="listaElevi">
                        <thead >
                            <tr>
                                <td ><h3 style="margin-right: 20px;">Nume</h3></td>
                                <td ><h3>Medie note</h3></td>
                                
                            </tr>
                        </thead>
                        <tbody>
                
                        </tbody>
                    </table>
                </div>    
                </div>     

</body>
</html>